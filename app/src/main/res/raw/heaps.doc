#include <ctime>
#include <iostream>
using namespace std;
typedef unsigned int UI;
//протаскивание через пирамиду
void protaskivanie(int* a, int i, int n)
{
	int j = 2 * i + 1;
	int k = i;
	if (j < n && (a[j] > a[i]))
	{
		k = j;
	}
	if ((j + 1 < n) && (a[j + 1] > a[k]))
	{
		k = j + 1;
	}
	if (k != i) // обмен a[i] и a[k]
	{
		int t = a[i];
		a[i] = a[k];
		a[k] = t;
		protaskivanie(a, k, n);
	}
}
//построение пирамиды
void postroenie(int* a, int n) {
	int i = n / 2 - 1;
	while (i >= 0) {
		protaskivanie(a, i, n);
		i--;
	}
}
//сортировка пирамидальная
void heapsort(int* a, int n) {
	postroenie(a, n);
	int n1 = n - 1;
	int N = n;
	int x;
	while (n1 > 0)
	{
		x = a[0];
		a[0] = a[n1];
		a[n1] = x;
		n1--;
		N--;
		protaskivanie(a, 0, N);
	}
}

int main() {
	srand(time(NULL));
	setlocale(LC_ALL, "rus");
	int mas[100];//массив под 100 элементов
	int n = 20;//размер массива
	//создаем рандомно массив
	for (int i = 0; i < n; i++) {
		mas[i] = rand() % 100;//создаем рандомно массив в диапозоне от 0 до 100
	}
	cout << "Данный массив, который создан рандомно в диапозоне от [0...100]: " << endl;
	for (int i = 0; i < n; i++) {
		cout << mas[i] << " ";
	}
	cout << endl;
	heapsort(mas, n);
	cout << endl;
	cout << "Отсортированный массив по алгоритму : "<< endl;
	//вывод массива
	for (int i = 0; i < n; i++) {//через цикл выводим значение каждой ячейки массива
		cout << mas[i] << " ";//выводим через пробул элементы массива
	}
	cout << endl;
}